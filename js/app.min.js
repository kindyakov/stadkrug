(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(e="max"){const t="_dynamic_adapt_",o="data-da",s=function(){const t=[];return[...document.querySelectorAll(`[${o}]`)].forEach((e=>{const s=e.getAttribute(o),[i,n,r]=s.split(",").map((e=>e.trim())),c=document.querySelector(i);var a;c&&t.push({parent:e.parentElement,element:e,to:c,breakpoint:n??"767",order:void 0!==r?(a=r,isNaN(a)?r:Number(r)):"last",index:-1})})),function(t){const o="min"===e?1:0;return[...t].sort(((e,t)=>e.breakpoint===t.breakpoint?e.order===t.order?0:"first"===e.order||"last"===t.order?-1*o:"last"===e.order||"first"===t.order?1*o:0:(e.breakpoint-t.breakpoint)*o))}(t)}();[...new Set(s.map((({breakpoint:t})=>`(${e}-width: ${t}px),${t}`)))].map((e=>{const[t,o]=e.split(",");return{query:t,breakpoint:o}})).forEach((e=>{const o=window.matchMedia(e.query),i=function(e,o){return function(){e.matches?(o.forEach((e=>{!function(e){const{to:o,element:s,order:i}=e;e.index=function(e,t){return[...t.children].indexOf(e)}(e.element,e.element.parentElement),s.classList.add(t),"last"===i||i>=o.children.length?o.append(s):"first"!==i?o.children[i].before(s):o.prepend(s)}(e)})),o.reverse()):(o.forEach((e=>{e.element.classList.contains(t)&&function(e){const{parent:o,element:s,index:i}=e;s.classList.remove(t),i>=0&&o.children[i]?o.children[i].before(s):o.append(s)}(e)})),o.reverse())}}(o,s.filter((({breakpoint:t})=>t===e.breakpoint)));o.addEventListener("change",i),i()}))}(),((e=".header-burger",t=".header__nav")=>{const o=document.querySelector(e),s=document.querySelector(t);o&&s&&o.addEventListener("click",(()=>{o.classList.contains("_active")?(o.classList.remove("_active"),s.classList.remove("_active")):(o.classList.add("_active"),s.classList.add("_active"))}))})(),((e=".header-burger",t=".header__nav")=>{const o=document.querySelector("header"),s=document.querySelector(".header__body"),i=document.querySelector(e),n=document.querySelector(t),r=document.querySelector(".intro__content");if(!s||!o)return;let c=!1,a=o.clientHeight;window.addEventListener("scroll",(()=>{i&&i.classList.remove("_active"),n&&n.classList.remove("_active"),scrollY>a&&!c?setTimeout((()=>{c=!0,s.classList.add("_fixed"),o.classList.add("_fixed"),r&&r.classList.add("_is-scroll")}),200):0===scrollY&&(o.classList.remove("_fixed"),s.classList.remove("_fixed"),c=!1,r&&r.classList.remove("_is-scroll"))}))})(),(e=>{const t=document.querySelectorAll(".media__card-content");if(t.length){let e=Array.from(t).map((e=>e.getBoundingClientRect().height)),o=Math.max(...e);t.length&&t.forEach((e=>{e.style.minHeight=o+"px"}))}})();const o=document.querySelector(".header"),s=document.querySelector("._main");if(o&&s){const e=o.clientHeight;s.style.marginTop=e+"px"}window.addEventListener("resize",(()=>{if(o&&s){const e=o.clientHeight;s.style.marginTop=e+"px"}}));const i=document.querySelector(".zimmer__aside"),n=document.querySelector(".zimmer__aside_burger"),r=document.querySelector(".zimmer__body"),c=document.querySelector(".zimmer__burger"),a=window.matchMedia("(max-width: 992px)");if(i&&n){document.addEventListener("click",(e=>{(e.target.closest(".zimmer__burger")||e.target.closest(".zimmer__aside_burger"))&&(n.classList.contains("_active")?(n.classList.remove("_active"),i.classList.remove("_active")):(n.classList.add("_active"),i.classList.add("_active"),n.removeAttribute("style"),scrollY>r.offsetTop&&window.scrollTo({top:r.offsetTop-(o.offsetHeight+15),behavior:"smooth"})))}));let e=n.getBoundingClientRect().top+15+document.documentElement.scrollTop-(o.offsetHeight+20);window.addEventListener("scroll",(t=>{scrollY>=e&&!n.classList.contains("_active")?a.matches&&(n.style.cssText="opacity: 0;",c.style.cssText=`top: ${o.offsetHeight+15}px; display: block;`):(n.removeAttribute("style"),c.removeAttribute("style"))}))}new class{constructor(e,t){this.options=Object.assign({onOpen:()=>{},onClose:()=>{},modalBtnActive:".modal-btn-active",modalBtnClose:".modal__close",classActive:"_active",modalContent:"modal__body"},t),this.modal=document.querySelector(e),this.speed=300,this.isAnimation=!1,this.isOpen=!1,this.modalContainer=!1,this.fixBocks=document.querySelectorAll(".fix-block"),this.events()}events(){this.modal&&(document.addEventListener("click",(e=>{if(e.target.closest(this.options.modalBtnActive))return e.preventDefault(),void this.open();e.target.closest(this.options.modalBtnClose)&&this.close()})),this.modal.addEventListener("click",(e=>{!e.target.closest(`.${this.options.modalContent}`)&&this.isOpen&&this.close()})),window.addEventListener("keyup",(e=>{"Escape"===e.key&&this.isOpen&&this.close()})))}close(e){this.isOpen=!1,this.modal.classList.remove(this.options.classActive),this.options.onClose(this),this.enableScroll()}open(e){this.modal.classList.add(this.options.classActive),setTimeout((()=>{this.disableScroll()}),0),this.isOpen=!0,this.options.onOpen(this)}disableScroll(){const e=window.scrollY;this.lockPadding(),document.body.classList.add("_lock"),document.body.dataset.position=e}enableScroll(){const e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("_lock"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}lockPadding(){const e=window.innerWidth-document.body.offsetWidth+"px";this.modal.style.paddingRight=e,document.querySelector(".wrapper").style.paddingRight=e}unlockPadding(){this.modal.removeAttribute("style"),document.querySelector(".wrapper").style.paddingRight=0}}(".modal-frame",{modalBtnActive:".btn-active-iframe"})})();