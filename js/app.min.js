(()=>{"use strict";var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(e="max"){const t="_dynamic_adapt_",o="data-da",s=function(){const t=[];return[...document.querySelectorAll(`[${o}]`)].forEach((e=>{const s=e.getAttribute(o),[c,i,r]=s.split(",").map((e=>e.trim())),n=document.querySelector(c);var a;n&&t.push({parent:e.parentElement,element:e,to:n,breakpoint:i??"767",order:void 0!==r?(a=r,isNaN(a)?r:Number(r)):"last",index:-1})})),function(t){const o="min"===e?1:0;return[...t].sort(((e,t)=>e.breakpoint===t.breakpoint?e.order===t.order?0:"first"===e.order||"last"===t.order?-1*o:"last"===e.order||"first"===t.order?1*o:0:(e.breakpoint-t.breakpoint)*o))}(t)}();[...new Set(s.map((({breakpoint:t})=>`(${e}-width: ${t}px),${t}`)))].map((e=>{const[t,o]=e.split(",");return{query:t,breakpoint:o}})).forEach((e=>{const o=window.matchMedia(e.query),c=function(e,o){return function(){e.matches?(o.forEach((e=>{!function(e){const{to:o,element:s,order:c}=e;e.index=function(e,t){return[...t.children].indexOf(e)}(e.element,e.element.parentElement),s.classList.add(t),"last"===c||c>=o.children.length?o.append(s):"first"!==c?o.children[c].before(s):o.prepend(s)}(e)})),o.reverse()):(o.forEach((e=>{e.element.classList.contains(t)&&function(e){const{parent:o,element:s,index:c}=e;s.classList.remove(t),c>=0&&o.children[c]?o.children[c].before(s):o.append(s)}(e)})),o.reverse())}}(o,s.filter((({breakpoint:t})=>t===e.breakpoint)));o.addEventListener("change",c),c()}))}(),((e=".header-burger",t=".header__nav")=>{const o=document.querySelector(e),s=document.querySelector(t);o&&s&&o.addEventListener("click",(()=>{o.classList.contains("_active")?(o.classList.remove("_active"),s.classList.remove("_active")):(o.classList.add("_active"),s.classList.add("_active"))}))})(),((e=".header-burger",t=".header__nav")=>{const o=document.querySelector("header"),s=document.querySelector(".header__body"),c=document.querySelector(e),i=document.querySelector(t),r=document.querySelector(".intro__content");if(!s||!o)return;let n=!1,a=o.clientHeight;window.addEventListener("scroll",(()=>{c&&c.classList.remove("_active"),i&&i.classList.remove("_active"),scrollY>a&&!n?setTimeout((()=>{n=!0,s.classList.add("_fixed"),o.classList.add("_fixed"),r&&r.classList.add("_is-scroll")}),200):0===scrollY&&(o.classList.remove("_fixed"),s.classList.remove("_fixed"),n=!1,r&&r.classList.remove("_is-scroll"))}))})(),(e=>{const t=document.querySelectorAll(".media__card-content");if(t.length){let e=Array.from(t).map((e=>e.getBoundingClientRect().height)),o=Math.max(...e);t.length&&t.forEach((e=>{e.style.minHeight=o+"px"}))}})();const o=document.querySelector(".header"),s=document.querySelector("._main");if(o&&s){const e=o.clientHeight;s.style.marginTop=e+"px"}window.addEventListener("resize",(()=>{if(o&&s){const e=o.clientHeight;s.style.marginTop=e+"px"}}));const c=document.querySelector(".zimmer__aside"),i=document.querySelector(".zimmer__aside_burger"),r=document.querySelector(".zimmer__body"),n=document.querySelector(".zimmer__burger"),a=window.matchMedia("(max-width: 992px)");if(c&&i){document.addEventListener("click",(e=>{(e.target.closest(".zimmer__burger")||e.target.closest(".zimmer__aside_burger"))&&(i.classList.contains("_active")?(i.classList.remove("_active"),c.classList.remove("_active")):(i.classList.add("_active"),c.classList.add("_active"),i.removeAttribute("style"),scrollY>r.offsetTop&&window.scrollTo({top:r.offsetTop-(o.offsetHeight+15),behavior:"smooth"})))}));let e=i.getBoundingClientRect().top+15+document.documentElement.scrollTop-(o.offsetHeight+20);window.addEventListener("scroll",(t=>{scrollY>=e&&!i.classList.contains("_active")?a.matches&&(i.style.cssText="opacity: 0;",n.style.cssText=`top: ${o.offsetHeight+15}px; display: block;`):(i.removeAttribute("style"),n.removeAttribute("style"))}))}new class{constructor(e,t){this.options=Object.assign({onOpen:()=>{},onClose:()=>{},modalBtnActive:".modal-btn-active",modalBtnClose:".modal__close",classActive:"_active",modalContent:"modal__body"},t),this.modal=document.querySelector(e),this.speed=300,this.isAnimation=!1,this.isOpen=!1,this.modalContainer=!1,this.fixBocks=document.querySelectorAll(".fix-block"),this.events()}events(){this.modal&&(document.addEventListener("click",(e=>{if(e.target.closest(this.options.modalBtnActive))return e.preventDefault(),void this.open();e.target.closest(this.options.modalBtnClose)&&this.close()})),this.modal.addEventListener("click",(e=>{!e.target.closest(`.${this.options.modalContent}`)&&this.isOpen&&this.close()})),window.addEventListener("keyup",(e=>{"Escape"===e.key&&this.isOpen&&this.close()})))}close(e){this.isOpen=!1,this.modal.classList.remove(this.options.classActive),this.options.onClose(this),this.enableScroll()}open(e){this.modal.classList.add(this.options.classActive),setTimeout((()=>{this.disableScroll()}),0),this.isOpen=!0,this.options.onOpen(this)}disableScroll(){const e=window.scrollY;this.lockPadding(),document.body.classList.add("_lock"),document.body.dataset.position=e}enableScroll(){const e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("_lock"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}lockPadding(){const e=window.innerWidth-document.body.offsetWidth+"px";this.modal.style.paddingRight=e,document.querySelector(".wrapper").style.paddingRight=e}unlockPadding(){this.modal.removeAttribute("style"),document.querySelector(".wrapper").style.paddingRight=0}}(".modal-frame",{modalBtnActive:".btn-active-iframe"}),new class{constructor(e,t){this.options=Object.assign({isOpen:()=>{},isEvent:()=>{},isAccordion:!0,btnSelector:""},t),this.accordWrapper=document.querySelector(e),this.accordSelector="._my-accordion",this.accordBtnSelector="._my-accordion-controler",this.accordContentSelector="._my-accordion-content",this.accordWrapper&&(this.accords=this.accordWrapper.querySelectorAll(this.accordSelector),this.accordBtns=this.accordWrapper.querySelectorAll(this.accordBtnSelector),this.accordContents=this.accordWrapper.querySelectorAll(this.accordContentSelector),this.check()&&(this.init(),this.events()))}check(){return this.accords.forEach((e=>{const t=document.querySelector(this.accordBtnSelector),o=document.querySelector(this.accordContentSelector);return t?o?void 0:(console.log(e,`Здесь ${e} не найден ._my-accordion-content`),!1):(console.log(e,`Здесь ${e} не найден ._my-accordion-controler`),!1)})),!0}init(){this.accords.forEach((e=>e.classList.remove("_open")))}events(){this.accordWrapper.addEventListener("click",(e=>{if(e.target.closest(this.accordBtnSelector)){const t=e.target.closest(this.accordSelector),o=(t.querySelector(this.accordBtnSelector),t.querySelector(this.accordContentSelector));t.classList.contains("_open")?(t.classList.remove("_open"),o.style.maxHeight=null):(this.open(t,o),this.options.isOpen(e))}this.options.isEvent(e)}))}open(e,t){this.options.isAccordion&&this.close(),e.classList.add("_open"),t.style.maxHeight=t.scrollHeight+"px"}close(){this.accords.forEach((e=>e.classList.remove("_open"))),this.accordBtns.forEach((e=>e.classList.remove("_open"))),this.accordContents.forEach((e=>{e.classList.remove("_open"),e.style.maxHeight=null}))}}(".zimmer__accordions");const l=document.querySelectorAll("[data-fslightbox]");l.length&&l.forEach((e=>{e.addEventListener("click",(e=>e.preventDefault()))}))})();